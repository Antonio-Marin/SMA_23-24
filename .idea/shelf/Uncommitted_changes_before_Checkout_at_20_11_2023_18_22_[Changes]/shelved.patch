Index: base/src/Acc.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.io.*;\r\nimport java.lang.management.ManagementFactory;\r\nimport java.net.*;\r\nimport java.util.ArrayList;\r\nimport java.util.LinkedList;\r\nimport java.util.Random;\r\n\r\n/**\r\n * Esta clase genera el agente, inicializa sus valores y arranca los procesos necesarios para su funcionamient\r\n * @author MAFG y Varios alumnos 2022-2023\r\n * @author MAFG y Varios alumnos 2023-2024\r\n * @fechaDeCreacion: 2022-xx-xx\r\n * @fechaDeUltimaModificacion: 2023-10-04\r\n * @version: 2023-2024-01\r\n * @observaciones:\r\n *      - Contiene la información básica asociada al agente\r\n *          - Datos del agente\r\n *          - Datos del entorno de ejecución\r\n *          - Datos para ingeniería social\r\n *          - Datos de la función del agente\r\n *          - Datos del sistema de comunicaciones\r\n */\r\n\r\npublic class Acc {\r\n\r\n    // //////////////////////////////////////\r\n    // //////////////////////////////////////\r\n    // DATOS GLOBALES\r\n\r\n    // //////////////////////////////////////\r\n    // Datos del agente\r\n    protected String ID_propio; // Identificador unico de este agente\r\n    protected String Ip_Propia;  // Ip donde reside este agente\r\n    protected int Puerto_Propio_TCP;  // Es el puerto de servidor TCP del agente (coincide con el puerto asociado al agente)\r\n    protected int Puerto_Propio_UDP;  // Es el puerto de servidor UDP del agente (es el siguiente a \"Puerto_Propio\" osea - Puerto_Propio_UDP = Puerto_Propio+1)\r\n    protected long Tiempo_de_nacimiento;  // La hora del sistema de esta maquina en la que se genera el agente\r\n    protected tipos_de_agentes tipo_agente;  // Para indicar si es cambiacromos o monitor\r\n    protected enum tipos_de_agentes\r\n    {\r\n        CAMBIACROMOS, MONITOR\r\n    }\r\n\r\n    // //////////////////////////////////////\r\n    // Datos del entorno de ejecución\r\n    protected String Ip_Monitor;  // Es la IP donde reside el monitor (es la misma para todos los agentes del SMA)\r\n    protected int Puerto_Monitor;  // Es el puerto donde reside el monitor (es la misma para todos los agentes del SMA)\r\n    protected int Puerto_Monitor_TCP;  // Es el puerto de servidor TCP del agente monitor (es el mismo que \"Puerto_Monitor\" y es la misma para todos los agentes del SMA)\r\n    protected int Puerto_Monitor_UDP;  // Es el puerto de servidor UDP del agente monitor (es el mismo que \"Puerto_Monitor+1\" y es la misma para todos los agentes del SMA)\r\n    protected String Inicio_rango_IPs; // Para indicar el inicio del rango de IPs donde este agente podrá buscar otros agentes\r\n    protected int Rango_IPs; // Se suma a \"Inicio_rango_IPs\" para definir la ultima IP del rango donde este agente podrá buscar otros agentes\r\n    protected int Puerto_Inicio; // Para indicar el inicio del rango de puertos donde este agente podrá buscar otros agentes, o buscar donde anidar\r\n    protected int Rango_Puertos; // Se suma a \"Puerto_Inicio\" para definir el ultimo puerto del rango donde este agente podrá buscar otros agentes, o buscar donde anidar\r\n    protected String localizacion_codigo;\r\n    protected long tiempo_espera_fin_env; // Es el tiempo maximo que esperaremos para enviar los mensajen pendientes en la cola de envios, antes de finalizar el agente\r\n                                        // si transcurrido esta cantidad de milisegundos sigue habiendo mensajes por enviar en la cola de envios, el agente se cierra y estos\r\n                                        // quedaran sin enviar\r\n    protected FuncionMonitor funcionMonitor;  // Sera un hlo de ejecución\r\n\r\n    // //////////////////////////////////////\r\n    // Datos para ingeniería social\r\n    protected ComportamientoBase comportamientoBase ;  // Sera un hlo de ejecución\r\n    protected enum Estado_del_ACC\r\n    {\r\n        VIVO, MUERTO, FINALIZADO\r\n    }\r\n    protected Estado_del_ACC Estado_Actual;\r\n    protected long Tiempo_de_vida; // Definimos aqui en milisegundos el tiempo que el proceso del agente estara activo antes de terminarse\r\n    protected int Num_generacion; // Un agente que se arranca en una maquina genera procesos hijos y estos generan procesos nietos, este numero\r\n                                    // indica a que generación correspondeeste agente como descendiente del agente inicial\r\n    protected int Num_max_de_generaciones; // Los agentes de este nivel de generaciones, no generaran agente hijos\r\n    protected int Num_hijos_generados; // Define el numero de descendientes que este agente ha generado (en primera generación)\r\n    protected int Num_max_hijos_generados; // Define el numero maximo de descendientes de primera generación. que este agente ùede generar\r\n    protected double Frecuencia_partos;  // Para manejar la velocidad en la que el agente se reproduce\r\n    protected double Frecuencia_rastreo_puertos; // Para manejar la velocidad en la que el agente busca otros agentes\r\n\r\n    // //////////////////////////////////////\r\n    // //////////////////////////////////////\r\n    // Datos de la función del agente\r\n    protected FuncionDeAgente funcionAgente;  // Sera un hlo de ejecución\r\n\r\n    // //////////////////////////////////////\r\n    // //////////////////////////////////////\r\n    // Datos del sistema de comunicaciones\r\n    protected Enviar enviar;  // Sera un hlo de ejecución\r\n    protected RecibeTcp recibeTcp;  // Sera un hlo de ejecución\r\n    protected RecibeUdp recibeUdp;  // Sera un hlo de ejecución\r\n\r\n    protected ServerSocket servidor_TCP;  // Puerto para el servicio por TCP\r\n    protected DatagramSocket servidor_UDP;  // Puerto para el servicio por UDP\r\n\r\n    private LinkedList<AccLocalizado> directorio_de_agentes = new LinkedList<>(); // Contenedor para almacenar cada uno de los mensajes para enviar por un agente\r\n    private  int num_tot_acc_loc;  // Numero total de agentes localizados\r\n    private LinkedList<Mensaje> contenedor_de_mensajes_a_enviar = new LinkedList<>(); // Contenedor para almacenar cada uno de los mensajes para enviar por un agente\r\n    private  int num_tot_men_env;  // Numero total de mensajes enviados por el agente\r\n    private LinkedList<Mensaje> contenedor_de_mensajes_recibidos = new LinkedList<>(); // Contenedor para almacenar cada uno de los mensajes recibidos por un agente\r\n    private  int num_tot_men_rec;  // Numero total de mensajes recibidos por el agente\r\n    private  int num_id_local_men;  // Este numero, junto con el identificador del agente, generan un codigo unico de mensaje\r\n\r\n    /**\r\n     * public Acc : Contructor de la calse Acc\r\n     * @author MAFG y Varios alumnos 2022-2023\r\n     * @author MAFG y Varios alumnos 2023-2024\r\n     * @fechaDeCreacion: 2022-xx-xx\r\n     * @fechaDeUltimaModificacion: 2023-10-04\r\n     * @version: 2023-2024-01\r\n     * @param ID_propio : sera el identificador único \"ID_propio\" del agente\r\n     * @param este_Num_generacion_str : indica la profundidad de la generación en la que se genera e, agente \"Num_generacion\"\r\n     * @observaciones:\r\n     *      - Inicializa los datos del agente\r\n     *      - Busca un puerto libre en esta maquina donde alojarse \"buscaNido()\"\r\n     *      - Configura el estado inicial \"generaConfiguracionInicial()\"\r\n     *      - Genera los hilos donde correran los procesos que se ejecutan paralelamente en el agente\r\n     *          Hilos de comunicaciones\r\n     *          - Enviar\r\n     *          - RecibeTcp\r\n     *          - RecibeUdp\r\n     *          - ComportamientoBase : procesos básicos del agente\r\n     *          - Dependiendo de si el agente es monitor o cambiaCromos :\r\n     *              - En el caso del CAMBIACROMOS :\r\n     *                  - FuncionDeAgente : Procesos especificos del agente\r\n     *                  - Notifica su existencia al monitor \"notificaNacimiento\"\r\n     *              - En el caso del MONITOR :\r\n     *                  - FuncionMonitor : Procesos especificos del agente monitor\r\n     */\r\n    public Acc (String ID_propio, String este_Num_generacion_str, String este_tipo_agente, String este_Ip_Monitor, String este_Puerto_Monitor) {\r\n\r\n        // Obtiene el PID del proceso actual para poder pararlo\r\n        long pid = obtenerPID();\r\n\r\n        System.out.println(\"\\n ========================================================================================\" +\r\n                            \"\\n> =========================== INICIO AGENTE ==============================================\" +\r\n                            \"\\n> ========================================================================================\" +\r\n                            \" \\n ID_propio : \"+ ID_propio+\r\n                            \" Num generacion : \"+ este_Num_generacion_str+\r\n                            \" Tipo agente : \"+ este_tipo_agente+\r\n                            \" Ip Monitor : \"+ este_Ip_Monitor +\r\n                            \" Puerto Monitor : \"+ este_Puerto_Monitor+\r\n                            \"\\n> ========================= PID proceso : \"+pid+\" ======================================\" +\r\n                            \"\\n> ============ Para matar el proceso : taskkill /PID \"+pid+\" /F  ========================\" +\r\n                            \"\\n> ========================================================================================\");\r\n\r\n        // Definimos los datos y parametros operativos del agente. Con ellos podremos manejar sus caracteísticas\r\n        generaConfiguracionInicial(ID_propio, este_Num_generacion_str, este_tipo_agente, este_Ip_Monitor, este_Puerto_Monitor);\r\n\r\n        // Buscamos el puerto donde alojarlo.\r\n        if(this.tipo_agente == tipos_de_agentes.CAMBIACROMOS)\r\n        {\r\n            // Para el agente CAMBIACROMOS tenemos que buscar los puertos donde albergar el agente\r\n            buscaNido();\r\n        }\r\n        else if (this.tipo_agente == tipos_de_agentes.MONITOR) {\r\n            // Para el agente MONITOR los puertos vienen fijados al generar el agente\r\n            this.Puerto_Propio_TCP = this.Puerto_Monitor;\r\n            this.Puerto_Propio_UDP = this.Puerto_Propio_TCP + 1;\r\n\r\n            // Generamos los sockets de TCP y UDP en el monitor, ya que este sabe cuales son sus puerton y no usa \"buscaNido()\" para localizarse\r\n            try {\r\n                servidor_TCP = new ServerSocket(Puerto_Propio_TCP);\r\n                servidor_UDP = new DatagramSocket(Puerto_Propio_UDP);\r\n            } catch (Exception e) {\r\n                System.out.println(\"\\n ==> ERROR. Desde Acc al abrir los puertos de comunicaciones con Puerto_Propio : \" + Puerto_Propio_TCP +\r\n                        \" - con Puerto_Propio_TCP : \" + Puerto_Propio_TCP +\r\n                        \" - con Puerto_Propio_UDP : \" + Puerto_Propio_UDP +\r\n                        \" - en el MONITOR\");\r\n            }\r\n        } // Fin de - else if (this.tipo_agente == tipos_de_agentes.MONITOR) {\r\n        else\r\n        {\r\n            System.out.println(\"Desde public Acc. ERROR al procesar el tipo de agente al buscar nido\");\r\n        }\r\n\r\n        // Generamos los hilos de ejecucion que utiliza ente agente\r\n            // Hilos de comunicaiones\r\n        this.recibeTcp = new RecibeTcp(this);\r\n        this.recibeUdp = new RecibeUdp(this);\r\n        this.enviar = new Enviar(this);\r\n            // Hilos de comportamiento\r\n        this.comportamientoBase = new ComportamientoBase(this);\r\n            // Dependiendo del tipo de agente\r\n        if(this.tipo_agente == tipos_de_agentes.CAMBIACROMOS)\r\n        {\r\n                // Para el agente CAMBIACROMOS arrancamos su funcion del agente y notificamos al monitor su nacimiento\r\n            this.funcionAgente = new FuncionDeAgente(this);\r\n            notificaNacimiento();\r\n        }\r\n        else if (this.tipo_agente == tipos_de_agentes.MONITOR)\r\n        {\r\n            // Para el agente MONITOR tan solo arrancamos su funcion del agente monitor\r\n            this.funcionMonitor = new FuncionMonitor(this);\r\n            // EL monitor no se notifica su propio nacimiento\r\n        }\r\n        else\r\n        {\r\n            System.out.println(\"Desde public Acc. ERROR al procesar el tipo de agente al ir a notificar el nacimiento\");\r\n        }\r\n\r\n        this.Estado_Actual = Estado_del_ACC.VIVO;\r\n    }\r\n\r\n    /**\r\n     *  generaConfiguracionInicial() : realiza la configuracion inicial del agente\r\n     * @author MAFG y Varios alumnos 2022-2023\r\n     * @author MAFG y Varios alumnos 2023-2024\r\n     * @fechaDeCreacion: 2022-xx-xx\r\n     * @fechaDeUltimaModificacion: 2023-10-04\r\n     * @version: 2023-2024-01\r\n     * @observaciones:\r\n     *      - ESTA FUNCION SOLO ESTA PROTOTIPADA (2023-20-04)\r\n     */\r\n    protected void generaConfiguracionInicial(String ID_propio, String este_Num_generacion_str, String este_tipo_agente, String este_Ip_Monitor, String este_Puerto_Monitor) {\r\n\r\n        // //////////////////////////////////////\r\n        // Definiendo datos del agente\r\n        this.ID_propio = ID_propio;\r\n        try {\r\n            this.Ip_Propia = InetAddress.getLocalHost().getHostAddress();\r\n        } catch (UnknownHostException e) {\r\n            System.out.println(\"Desde public Acc. => eneraConfiguracionInicial. ERROR al adquirir la Ip_Propia, da un valor : \" + Ip_Propia);\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        if (este_tipo_agente.equals(\"MONITOR\")) {\r\n            this.tipo_agente = tipos_de_agentes.MONITOR;\r\n        } else if (este_tipo_agente.equals(\"CAMBIACROMOS\")) {\r\n            this.tipo_agente = tipos_de_agentes.CAMBIACROMOS;\r\n        } else {\r\n            System.out.println(\"Desde public Acc. ERROR definiendo tipo_agente : \" + este_tipo_agente + \" - no es un tipo de agente conocido\");\r\n        }\r\n\r\n        // //////////////////////////////////////\r\n        // Definiendo Datos del entorno de ejecución\r\n        if (este_tipo_agente.equals(\"MONITOR\")) {\r\n            this.Ip_Monitor = this.Ip_Propia; // Si el agente es el monitor su ip y la del monitor son la misma evidentemente\r\n        } else if (este_tipo_agente.equals(\"CAMBIACROMOS\")) {\r\n            this.Ip_Monitor = este_Ip_Monitor;\r\n        } else {\r\n            System.out.println(\"Desde public Acc. ERROR Definiendo DATOS DEL ENTORNO : \" + este_tipo_agente + \" - no es un tipo de agente conocido\");\r\n        }\r\n        this.Puerto_Monitor = Integer.parseInt(este_Puerto_Monitor);  // El puerto de monitor se define como parametro de llamada al proceso\r\n        this.Puerto_Monitor_TCP = this.Puerto_Monitor;  // Es el puerto de servidor TCP del agente monitor (es el mismo que \"Puerto_Monitor\" y es la misma para todos los agentes del SMA)\r\n        this.Puerto_Monitor_UDP = this.Puerto_Monitor + 1;  // Es el puerto de servidor UDP del agente monitor (es el mismo que \"Puerto_Monitor+1\" y es la misma para todos los agentes del SMA)\r\n\r\n        this.Inicio_rango_IPs = Ip_Propia;  // Solo para pruebas\r\n        this.Rango_IPs = 0;\r\n        this.Puerto_Inicio = 50000;\r\n        this.Rango_Puertos = 10000;\r\n        this.localizacion_codigo = \"C:/Users/marti/IdeaProjects/SMA_23-24/base/out/production/base\"; //cambia segun quien lo ejecute\r\n        this.tiempo_espera_fin_env = 1000 * 1; // Es el tiempo (milisegundos) que esperaremos para enviar los mensajen pendientes en la cola de envios, antes de finalizar el agente\r\n\r\n        // //////////////////////////////////////\r\n        // Definiendo  Datos para ingeniería social\r\n        this.Estado_Actual = Estado_del_ACC.VIVO;\r\n        this.Tiempo_de_nacimiento = System.currentTimeMillis();\r\n        if (este_tipo_agente.equals(\"MONITOR\")) {\r\n            this.Tiempo_de_vida = 1000 * 100;  // Lo es en milisegundos\r\n        } else if (este_tipo_agente.equals(\"CAMBIACROMOS\")) {\r\n            this.Tiempo_de_vida = 1000 * 50;  // Lo es en milisegundos\r\n        } else {\r\n            System.out.println(\"Desde public Acc. ERROR definiendo Tiempo_de_vida : \" + este_tipo_agente + \" - no es un tipo de agente conocido\");\r\n        }\r\n        int este_Num_generacion = Integer.parseInt(este_Num_generacion_str);\r\n        this.Num_generacion = este_Num_generacion;\r\n        this.Num_max_de_generaciones = 1;\r\n        this.Num_hijos_generados = 0; // Por ahora el agente no ha generado ningún descendiente\r\n        this.Num_max_hijos_generados = 1; // el agente no debe superar este numero de descendientes en primera generacion (en principio arbitrario\r\n        this.Frecuencia_partos = 0.01;\r\n        this.Frecuencia_rastreo_puertos = 0.00001f;\r\n\r\n        // //////////////////////////////////////\r\n        // Definimos datos del sistema de comunicaciones\r\n        this.num_tot_acc_loc = 0;  // Numero total de agentes localizados\r\n        this.num_tot_men_env = 0;  // Numero total de mensajes enviados por el agente\r\n        this.num_tot_men_rec = 0;  // Numero total de mensajes recibidos por el agente\r\n        this.num_id_local_men = 0;  // Cada vez que se solicita, se incrementa en uno, para generar un codigo local unico para los mensajes (ver dame_codigo_id_local_men())\r\n    } // Fin de - protected void generaConfiguracionInicial)\r\n\r\n    /**\r\n     * buscaNido() : Busca en la maquina dosde se esta ejecutando un puerto libre para alojar al agente\r\n     * @author MAFG y Varios alumnos 2022-2023\r\n     * @author MAFG y Varios alumnos 2023-2024\r\n     * @fechaDeCreacion: 2022-xx-xx\r\n     * @fechaDeUltimaModificacion: 2023-10-04\r\n     * @version: 2023-2024-01\r\n     * @observaciones:\r\n     *      - Recordamos que la ip del agente \"Puerto_Propio\" es la misma que la ip de su puerto de escucha TCP \"Puerto_Propio_TCP\", asi mismo\r\n     *          el puerto se escucah UDP \"Puerto_Propio_UDP\" de este agente se coloca en el puerto siguiente a este.\r\n     *      - Cada agente ocupa pues un par de puertos consegutivos, puerto par - TCP y puerto impar - UDP\r\n     *      - Detro del rango de IPs donde debemos buscar los puertos donde anide el agente, buscamos una localizacion\r\n     *          aleatoriamente y luego vamos buscando por puertos consecutivos hasta recorrer todo el rango de Ips\r\n     *\r\n     */\r\n    protected void buscaNido() {\r\n\r\n        Random rand = new Random();\r\n        int puerto_ini_busqueda = Puerto_Inicio + rand.nextInt(Rango_Puertos + 1);\r\n        puerto_ini_busqueda = (puerto_ini_busqueda / 2) * 2; // Nos aseguramos que el numero sea par\r\n        int puerto_busqueda = puerto_ini_busqueda;\r\n        boolean sigue_buscando = true;\r\n            // Para evitar que el proceso se eternice\r\n        int num_intentos = 0; // Para llevar una cuenta del numero de puertos en los que hemos intentado anidar\r\n        int max_num_intentos = 5000; // Para llevar una cuenta del numero de puertos en los que hemos intentado anidar\r\n        long T_ini_busqueda =  System.currentTimeMillis();  // La hora del sistema de esta maquina en la que se inicia la busqueda de nido\r\n        long T_max_busqueda = 1000 * 10;  // El periodo maximo de tiempo que permitimos que el agente este buscando su nido (en milisegundos)\r\n        long T_limite_busqueda = T_ini_busqueda + T_max_busqueda;  // El momento en el que el agente debe parar de buscar su nido (en milisegundos)\r\n\r\n        while (sigue_buscando) {\r\n            boolean TCP_ok = false;\r\n            try {\r\n                servidor_TCP = new ServerSocket(puerto_busqueda);\r\n                TCP_ok = true;\r\n                servidor_UDP = new DatagramSocket(puerto_busqueda + 1);\r\n\r\n                // Si hemos podido ocupar los dos puertos, ya son nuestros y por tanto anotamos nuestra localizacion\r\n                this.Puerto_Propio_TCP = puerto_busqueda;\r\n                this.Puerto_Propio_UDP = Puerto_Propio_TCP +1;\r\n\r\n                // Si los dos puertos han funcionado, ya tenemos nido y podemos para de buscar\r\n                sigue_buscando = false;\r\n\r\n                long T_actual = System.currentTimeMillis();\r\n                long T_buscando = System.currentTimeMillis() - T_ini_busqueda;\r\n                System.out.println(\"\\n ==> Desde Acc => buscaNido ANIDADO CORRECTAMENTE con num_intentos : \"+num_intentos+\r\n                        \" - con max_num_intentos : \"+ max_num_intentos +\r\n                        \" - con T_ini_busqueda : \"+ T_ini_busqueda +\r\n                        \" - con T_actual : \"+ T_actual +\r\n                        \" - con T_limite_busqueda : \"+ T_limite_busqueda +\r\n                        \" - tiempo invertido (milisegundos) : \"+ T_buscando+\r\n                        \"\\n - anidado en Puerto_Propio : \"+ this.Puerto_Propio_TCP +\r\n                        \" - Puerto_Propio_TCP : \" + this.Puerto_Propio_TCP +\r\n                        \" - Puerto_Propio_UDP : \" + this.Puerto_Propio_UDP);\r\n\r\n            } catch (Exception e) {\r\n                // Si NO hemos podido ocupar los dos puertos, debemos seguir buscando mas adelante\r\n                puerto_busqueda++;\r\n                num_intentos++;\r\n                if (puerto_busqueda > (Puerto_Inicio + Rango_Puertos)) {\r\n                    puerto_busqueda = Puerto_Inicio;\r\n                } // SI nos salimos del rango, volvemos al principio\r\n\r\n                if (TCP_ok) {\r\n                    // SI hemos llegado aqui es que hemos podido abrir \"servidor_TCP\", pero no \"servidor_UDP\", por lo que cerramos \"servidor_TCP\"\r\n                    // para que quede todo como estaba\r\n                    try {\r\n                        servidor_TCP.close();\r\n                    }\r\n                    catch (IOException IO_e )\r\n                    {\r\n                        long T_actual = System.currentTimeMillis();\r\n                        long T_buscando = System.currentTimeMillis() - T_ini_busqueda;\r\n                        System.out.println(\"\\n ==> ERROR. Desde Acc => buscaNido al intentar derrar el socket TCP con num_intentos : \"+num_intentos+\r\n                                \" - con max_num_intentos : \"+ max_num_intentos +\r\n                                \" - con T_ini_busqueda : \"+ T_ini_busqueda +\r\n                                \" - con T_actual : \"+ T_actual +\r\n                                \" - con T_limite_busqueda : \"+ T_limite_busqueda +\r\n                                \" - tiempo invertido (milisegundos) : \"+ T_buscando+\r\n                                \" - con IO_e : \"+IO_e);\r\n                    }\r\n                } // Fin de - if (TCP_ok) {\r\n\r\n                // COntrolamos si debemos detener la busqueda de nido\r\n                long T_actual = System.currentTimeMillis();\r\n                if((num_intentos > max_num_intentos) || (T_actual > T_limite_busqueda))\r\n                {\r\n                    sigue_buscando = false;\r\n                    long T_buscando = System.currentTimeMillis() - T_ini_busqueda;\r\n                    System.out.println(\"\\n ==> Desde Acc => buscaNido.Detenemos la busqueda por exceso de intentos o tiempo con num_intentos : \"+num_intentos+\r\n                            \" - con max_num_intentos : \"+ max_num_intentos +\r\n                            \" - con T_ini_busqueda : \"+ T_ini_busqueda +\r\n                            \" - con T_actual : \"+ T_actual +\r\n                            \" - con T_limite_busqueda : \"+ T_limite_busqueda +\r\n                            \" - tiempo invertido (milisegundos) : \"+ T_buscando);\r\n                }\r\n            } // Fin de - try catch\r\n        }  // FIn de - while (sigue_buscando)\r\n    } // FIn de - protected void buscaNido()\r\n\r\n    /**\r\n     *  notificaNacimiento() : Notifica al monitor que este agente ha sido generado\r\n     * @author MAFG y Varios alumnos 2022-2023\r\n     * @author MAFG y Varios alumnos 2023-2024\r\n     * @fechaDeCreacion: 2022-xx-xx\r\n     * @fechaDeUltimaModificacion: 2023-10-04\r\n     * @version: 2023-2024-01\r\n     * @observaciones:\r\n     *      - Este mensaje se envia por (TCP)\r\n     *      - (PENDIENTE MAFG 2023-10-04) Falta poner el mensaje con formato XML\r\n     */\r\n    protected void notificaNacimiento() {\r\n        // Por ahora solo es una función prototipo\r\n        // Construimos el mensaje\r\n\r\n        String ID_mensaje = dame_codigo_id_local_men();\r\n        String momento_actual = String.valueOf(System.currentTimeMillis());\r\n        String Puerto_Propio_str = String.valueOf(Puerto_Propio_TCP);\r\n        String Puerto_Monitor_UDP_str = String.valueOf(Puerto_Monitor_UDP);\r\n        String cuerpo_mens = \"Esto es el MENSAJE HE NACIDO  - que el agente con ID_propio : \" + ID_propio +\r\n                \" - con ip : \" + Ip_Propia +\r\n                \" - con Puerto_Propio : \" + Puerto_Propio_str +\r\n                \" - con ID_mensaje : \" + ID_mensaje +\r\n                \" - envia al monitor con Ip_Monitor : \"+Ip_Monitor+\r\n                \" - con Puerto_Monitor : \"+Puerto_Monitor_UDP_str+\r\n                \" :  - en T : \" + momento_actual;\r\n\r\n        //TODO: mensaje nacer revisar\r\n        Mensaje mensaje_he_nacido = new Mensaje(\"1\",\r\n                ID_mensaje, \"Nacimiento\", \"Envio información al monitor\", \"UDP\",\r\n                ID_propio, Ip_Propia, Integer.toString(Puerto_Propio_TCP+1), Puerto_Propio_str, momento_actual,\r\n                \"ID_Monitor\", Ip_Monitor, Puerto_Monitor_UDP_str, Integer.toString(Puerto_Monitor_TCP), momento_actual);\r\n        mensaje_he_nacido.setBodyInfo(cuerpo_mens);\r\n\r\n        // Insertamos el mensaje\r\n        pon_en_lita_enviar(mensaje_he_nacido);\r\n\r\n        String Num_generacion_str = String.valueOf(this.Num_generacion);\r\n        String Tiempo_de_nacimiento_str = String.valueOf(this.Tiempo_de_nacimiento);\r\n        System.out.println(\"\\n ==> Ha nacido un agente en la IP = \"+Ip_Propia+\r\n                                \" - con ID_propio :\" + this.ID_propio +\r\n                                \" - en el puerto :\" + this.Puerto_Propio_TCP +\r\n                                \" - Su generación es :\" + Num_generacion_str +\r\n                                \" - t de generación :\" + Tiempo_de_nacimiento_str);\r\n    } // Fin de - protected void notificaNacimiento() {\r\n\r\n    /**\r\n     *  notificaFin() : Notifica al monitor que este agente ha finalizado e informa del resultado de la realizacion del proceso\r\n     * @author MAFG y Varios alumnos 2022-2023\r\n     * @author MAFG y Varios alumnos 2023-2024\r\n     * @fechaDeCreacion: 2022-xx-xx\r\n     * @fechaDeUltimaModificacion: 2023-10-04\r\n     * @version: 2023-2024-01\r\n     * @observaciones:\r\n     *      - Este mensaje se envia por TCP\r\n     *      - (PENDIENTE MAFG 2023-10-04) Falta poner el mensaje con formato XML\r\n     */\r\n    protected void finalizaAgente() {\r\n        Estado_Actual = Estado_del_ACC.FINALIZADO;\r\n\r\n        // ///////////////////////////////////////////////////////\r\n        // Notificamos al monitor que este agente ha finalizadO\r\n\r\n        String ID_mensaje = dame_codigo_id_local_men();\r\n        long momento_actual = System.currentTimeMillis();\r\n        String momento_actual_str = String.valueOf(System.currentTimeMillis());\r\n        String tiempo_vivido =  String.valueOf(System.currentTimeMillis() - Tiempo_de_nacimiento);\r\n        String Puerto_Propio_str = String.valueOf(Puerto_Propio_TCP);\r\n        String Puerto_Monitor_TCP_str = String.valueOf(Puerto_Monitor_TCP);\r\n        String cuerpo_mens_fin_agente = \"Esto es el MENSAJE FIN DE AGENTE  - que el agente con ID_propio : \" + ID_propio +\r\n                \" - con ip : \" + Ip_Propia +\r\n                \" - con Puerto_Propio : \" + Puerto_Propio_str +\r\n                \" - con ID_mensaje : \" + ID_mensaje +\r\n                \" - envia al monitor con Ip_Monitor : \"+Ip_Monitor+\r\n                \" - con Puerto_Monitor : \"+Puerto_Monitor_TCP_str+\r\n                \" - en T : \" + momento_actual_str+\r\n                \" - con T de vida : \" + Tiempo_de_vida +\r\n                \" - con T vivido : \" + tiempo_vivido;\r\n\r\n        //TODO: mensaje muerte revisar\r\n        Mensaje mensaje_fin_agente = new Mensaje(\"1\",\r\n                ID_mensaje, \"Destrucción\", \"Envio información al monitor\", \"TCP\",\r\n                ID_propio, Ip_Propia, Integer.toString(Puerto_Propio_TCP+1), Puerto_Propio_str, momento_actual_str,\r\n                \"ID_Monitor\", Ip_Monitor, Integer.toString(Puerto_Monitor_TCP+1), Integer.toString(Puerto_Monitor_TCP), momento_actual_str);\r\n        mensaje_fin_agente.setBodyInfo(cuerpo_mens_fin_agente);\r\n\r\n        // Insertamos el mensaje\r\n        pon_en_lita_enviar(mensaje_fin_agente);\r\n\r\n        System.out.println(\"\\n ==> NOTIFICACION LOCAL de FIN DE AGENTE - \\n \"+ cuerpo_mens_fin_agente);\r\n\r\n        // ///////////////////////////////////////////////////////\r\n        // Nos vamos\r\n        //  - Antes de cerrar los sockets, esperamos a que todos los mensajes esten enviados. Los\r\n        //       recibidos, como estamos muertos no nos importan\r\n\r\n        boolean espera_fin_envios = true;\r\n        while (espera_fin_envios)\r\n        {\r\n            if ((num_elem_lita_enviar() <= 0) || ((momento_actual + tiempo_espera_fin_env) < System.currentTimeMillis())){espera_fin_envios = false;}\r\n        }\r\n\r\n        // Dejamos la casa como estaba\r\n        cerrarSockets();\r\n\r\n        System.out.println(\"\\n ==> Finalizamos el agente con : \\n - men pendientes de envio : \"+ num_elem_lita_enviar() + \" - Total enviados : \" + num_tot_men_env +\r\n                            \"\\n - men en cola recibidos : \"+ num_elem_lita_recibidos() + \" - Total recibidos : \" + num_tot_men_rec);\r\n        System.out.println(\"\\n ========================================================================================\" +\r\n                \"\\n> ========================================================================================\" +\r\n                \"\\n> ==============================   FIN DE AGENTE  ========================================\" +\r\n                \"\\n                              ID_propio : \"+ ID_propio+\r\n                \"\\n> ========================================================================================\" +\r\n                \"\\n> ========================================================================================\");\r\n\r\n        // Terminamos el proceso\r\n        System.exit(0);     // Parar el agente\r\n\r\n    } // Fin de - protected void notificaNacimiento() {\r\n\r\n    /**\r\n     * void cerrarSockets() : Cierra los sockets del agente para liberarlos\r\n     * @author MAFG y Varios alumnos 2022-2023\r\n     * @author MAFG y Varios alumnos 2023-2024\r\n     * @fechaDeCreacion: 2022-xx-xx\r\n     * @fechaDeUltimaModificacion: 2023-10-04\r\n     * @version: 2023-2024-01\r\n     * @observaciones:\r\n     *      - Debe llamarse al terminar el agente\r\n     */\r\n    void cerrarSockets() {\r\n\r\n        //\r\n        // Cerramos el socket TCP\r\n        try {\r\n            recibeTcp.servidor_TCP.close();\r\n        } catch (Exception e) {\r\n            System.out.println(\"Desde Acc - cerrarSockets : Problemas al cerrar el socket\");\r\n        }\r\n        // Cerramos el socket UDP\r\n        try {\r\n            recibeUdp.servidor_UDP.close();\r\n        } catch (Exception e) {\r\n            System.out.println(\"Desde Acc - cerrarSockets : Problemas al cerrar el socket\");\r\n        }\r\n    } // Fin de - void cerrarSockets() {\r\n\r\n    /**\r\n     * public static long obtenerPID(); Para obtener el id del proceso en el que se ejecuta la clase\r\n     * @author Miguel Angel Fernandez Graciani\r\n     * @fechaDeCreacion: 2023-10-16\r\n     * @fechaDeUltimaModificacion:\r\n     * @version: V_01\r\n     * @observaciones:\r\n     *  - Me lo dice chatGPT (2023-10-18)\r\n     */\r\n    public static long obtenerPID() {\r\n        String nombreGestion = ManagementFactory.getRuntimeMXBean().getName();\r\n        // El nombre de gestión tiene el formato \"pid@hostname\"\r\n        String[] partes = nombreGestion.split(\"@\");\r\n\r\n        if (partes.length > 0) {\r\n            try {\r\n                return Long.parseLong(partes[0]);\r\n            } catch (NumberFormatException e) {\r\n                // Manejar la excepción si no se puede convertir a un número\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        // Si no se pudo obtener el PID, devolver un valor predeterminado\r\n        return -1;\r\n    }\r\n\r\n    /**\r\n     *  pon o saca : Funciones para el manejo de datos compartidos. Introduce o saca mensajes o agentes localizados de la lista correspondiente\r\n     * @author MAFG y Varios alumnos 2023-2024\r\n     * @fechaDeCreacion: 2022-xx-xx\r\n     * @fechaDeUltimaModificacion: 2023-10-04\r\n     * @version: 2023-2024-01\r\n     * @observaciones:\r\n     *  - Se hace mediante \"synchronized\" para evitar problemas de concurrencia\r\n     */\r\n    // synchronized\r\n    protected void pon_en_lita_enviar(Mensaje este_mensaje) {contenedor_de_mensajes_a_enviar.add(este_mensaje); num_tot_men_env++; }\r\n    protected void pon_en_lita_recibidos(Mensaje este_mensaje) {contenedor_de_mensajes_recibidos.add(este_mensaje); num_tot_men_rec++; }\r\n    protected void pon_en_directorio_de_agentes(AccLocalizado este_accLocalizado) {directorio_de_agentes.add(este_accLocalizado); num_tot_acc_loc++; }\r\n\r\n    protected int num_elem_lita_enviar() {int num_elem = contenedor_de_mensajes_a_enviar.size(); return num_elem;}\r\n    protected int num_elem_lita_recibidos() {int num_elem = contenedor_de_mensajes_recibidos.size(); return num_elem;}\r\n    protected int num_elem_directorio_de_agentes() {int num_elem = directorio_de_agentes.size(); return num_elem;}\r\n\r\n    protected int dime_num_tot_men_env() {return num_tot_men_env;}\r\n    protected int dime_num_tot_men_rec() {return num_tot_men_rec;}\r\n    protected int dime_num_tot_acc_loc() {return num_tot_acc_loc;}\r\n\r\n    protected String dame_codigo_id_local_men(){\r\n            String codigo_id_local_men = ID_propio + \"_men_\" + num_id_local_men;\r\n            num_id_local_men++;\r\n            return codigo_id_local_men;\r\n        }\r\n\r\n    protected Mensaje saca_de_lita_enviar() {Mensaje este_mensaje = contenedor_de_mensajes_a_enviar.pop(); return este_mensaje; }\r\n    protected Mensaje saca_de_lita_recibidos() {Mensaje este_mensaje = contenedor_de_mensajes_recibidos.pop(); return este_mensaje; }\r\n    protected AccLocalizado saca_de_directorio_de_agentes() {AccLocalizado este_accLocalizado = directorio_de_agentes.pop(); return este_accLocalizado; }\r\n\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/base/src/Acc.java b/base/src/Acc.java
--- a/base/src/Acc.java	(revision d365c715ffef6c5ba9a4b944481a24aefd98940e)
+++ b/base/src/Acc.java	(date 1700500859542)
@@ -244,7 +244,7 @@
         this.Rango_IPs = 0;
         this.Puerto_Inicio = 50000;
         this.Rango_Puertos = 10000;
-        this.localizacion_codigo = "C:/Users/marti/IdeaProjects/SMA_23-24/base/out/production/base"; //cambia segun quien lo ejecute
+        this.localizacion_codigo = "C:/Users/pablo/IdeaProjects/SMA_23-24/base/out/production/base";
         this.tiempo_espera_fin_env = 1000 * 1; // Es el tiempo (milisegundos) que esperaremos para enviar los mensajen pendientes en la cola de envios, antes de finalizar el agente
 
         // //////////////////////////////////////
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"ef0b2940-10e1-417e-b237-833f74f0f7e1\" name=\"Changes\" comment=\"Borro y cuenta nueva\" />\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <favorite-branches>\r\n      <branch-storage>\r\n        <map>\r\n          <entry type=\"LOCAL\">\r\n            <value>\r\n              <list>\r\n                <branch-info repo=\"$PROJECT_DIR$\" source=\"agente\" />\r\n              </list>\r\n            </value>\r\n          </entry>\r\n        </map>\r\n      </branch-storage>\r\n    </favorite-branches>\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"agente\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;Antonio-Marin&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">\r\n    <option name=\"selectedUrlAndAccountId\">\r\n      <UrlAndAccount>\r\n        <option name=\"accountId\" value=\"deca3790-4eac-4600-a1e7-846d195d732d\" />\r\n        <option name=\"url\" value=\"https://github.com/Antonio-Marin/SMA_23-24.git\" />\r\n      </UrlAndAccount>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 0\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2WWLtTaukwQ7yJJmD3cT0PtXvEP\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"RunOnceActivity.OpenProjectViewOnStart\": \"true\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"git-widget-placeholder\": \"main\",\r\n    \"last_opened_file_path\": \"D:/Carrera/Sistema Multiagentes/Prácticas/Base proyecto/Profe\",\r\n    \"project.structure.last.edited\": \"Modules\",\r\n    \"project.structure.proportion\": \"0.0\",\r\n    \"project.structure.side.proportion\": \"0.0\"\r\n  }\r\n}]]></component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\marti\\IdeaProjects\\SMA_23-24\" />\r\n      <recent name=\"C:\\Users\\marti\\IdeaProjects\\SMA_23-24\\base-P3\\src\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"ef0b2940-10e1-417e-b237-833f74f0f7e1\" name=\"Changes\" comment=\"\" />\r\n      <created>1696843605464</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1696843605464</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Pruebas nombre\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1696844359816</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1696844359816</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"Clase agente\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1696844977836</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1696844977836</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"Agente get y set\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1696845672632</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1696845672632</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"Cambio agente a src\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1696845876542</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1696845876542</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"Cambio agente a src\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1696845959740</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1696845959740</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"Agentes nuevas variables + funcionamiento en main\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1696891836189</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1696891836190</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"Sussy error\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1696892077655</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1696892077655</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"metodo borroDesc\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1696933150056</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1696933150056</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"tratamiendo de hijos en los agentes\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1696933167510</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1696933167510</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"Archivo xml de prueba\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697476167711</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697476167711</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"Comentado case4 + pruebas de enviar un atributo del archivo xml\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697476332679</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697476332679</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"cambios\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697476549588</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697476549588</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"modificacion xml\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697479689854</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697479689854</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"ERROR, intento de envio de mensaje del archivo\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697479729944</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697479729944</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"Añadidos archivos xmls y xsd\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697479957713</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697479957713</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"Añadido archivo pasos.txt y reorganizados los archivos xml\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1697529706887</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1697529706887</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"Protocolo de comunicacion del agente\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698054318481</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698054318481</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"Borro y cuenta nueva\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1698141110354</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1698141110354</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"19\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"Pruebas nombre\" />\r\n    <MESSAGE value=\"Clase agente\" />\r\n    <MESSAGE value=\"Agente get y set\" />\r\n    <MESSAGE value=\"Cambio agente a src\" />\r\n    <MESSAGE value=\"Agentes nuevas variables + funcionamiento en main\" />\r\n    <MESSAGE value=\"Sussy error\" />\r\n    <MESSAGE value=\"metodo borroDesc\" />\r\n    <MESSAGE value=\"tratamiendo de hijos en los agentes\" />\r\n    <MESSAGE value=\"Archivo xml de prueba\" />\r\n    <MESSAGE value=\"Comentado case4 + pruebas de enviar un atributo del archivo xml\" />\r\n    <MESSAGE value=\"cambios\" />\r\n    <MESSAGE value=\"modificacion xml\" />\r\n    <MESSAGE value=\"ERROR, intento de envio de mensaje del archivo\" />\r\n    <MESSAGE value=\"Añadidos archivos xmls y xsd\" />\r\n    <MESSAGE value=\"Añadido archivo pasos.txt y reorganizados los archivos xml\" />\r\n    <MESSAGE value=\"Protocolo de comunicacion del agente\" />\r\n    <MESSAGE value=\"Borro y cuenta nueva\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"Borro y cuenta nueva\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision d365c715ffef6c5ba9a4b944481a24aefd98940e)
+++ b/.idea/workspace.xml	(date 1700500884906)
@@ -4,7 +4,10 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="ef0b2940-10e1-417e-b237-833f74f0f7e1" name="Changes" comment="Borro y cuenta nueva" />
+    <list default="true" id="ef0b2940-10e1-417e-b237-833f74f0f7e1" name="Changes" comment="Borro y cuenta nueva">
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/base/src/Acc.java" beforeDir="false" afterPath="$PROJECT_DIR$/base/src/Acc.java" afterDir="false" />
+    </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -33,17 +36,19 @@
     </favorite-branches>
     <option name="RECENT_BRANCH_BY_REPOSITORY">
       <map>
-        <entry key="$PROJECT_DIR$" value="agente" />
+        <entry key="$PROJECT_DIR$" value="main" />
       </map>
     </option>
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
   </component>
-  <component name="GitHubPullRequestSearchHistory">{
-  &quot;lastFilter&quot;: {
-    &quot;state&quot;: &quot;OPEN&quot;,
-    &quot;assignee&quot;: &quot;Antonio-Marin&quot;
-  }
-}</component>
+  <component name="GitSEFilterConfiguration">
+    <file-type-list>
+      <filtered-out-file-type name="LOCAL_BRANCH" />
+      <filtered-out-file-type name="REMOTE_BRANCH" />
+      <filtered-out-file-type name="TAG" />
+      <filtered-out-file-type name="COMMIT_BY_MESSAGE" />
+    </file-type-list>
+  </component>
   <component name="GithubPullRequestsUISettings">
     <option name="selectedUrlAndAccountId">
       <UrlAndAccount>
@@ -52,25 +57,16 @@
       </UrlAndAccount>
     </option>
   </component>
-  <component name="ProjectColorInfo">{
-  &quot;associatedIndex&quot;: 0
-}</component>
   <component name="ProjectId" id="2WWLtTaukwQ7yJJmD3cT0PtXvEP" />
   <component name="ProjectViewState">
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent"><![CDATA[{
-  "keyToString": {
-    "RunOnceActivity.OpenProjectViewOnStart": "true",
-    "RunOnceActivity.ShowReadmeOnStart": "true",
-    "git-widget-placeholder": "main",
-    "last_opened_file_path": "D:/Carrera/Sistema Multiagentes/Prácticas/Base proyecto/Profe",
-    "project.structure.last.edited": "Modules",
-    "project.structure.proportion": "0.0",
-    "project.structure.side.proportion": "0.0"
-  }
-}]]></component>
+  <component name="PropertiesComponent">
+    <property name="RunOnceActivity.OpenProjectViewOnStart" value="true" />
+    <property name="RunOnceActivity.ShowReadmeOnStart" value="true" />
+    <property name="last_opened_file_path" value="$PROJECT_DIR$/base" />
+  </component>
   <component name="RecentsManager">
     <key name="MoveFile.RECENT_KEYS">
       <recent name="C:\Users\marti\IdeaProjects\SMA_23-24" />
